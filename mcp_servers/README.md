# MCP æœåŠ¡å™¨é›†åˆ

è¿™ä¸ªç›®å½•åŒ…å«äº†å„ç§ MCP (Model Context Protocol) æœåŠ¡å™¨çš„å®ç°ã€‚

## âœ… å½“å‰å¯ç”¨çŠ¶æ€

- âœ… **simple_csv_server.py** - å®Œå…¨ç‹¬ç«‹ï¼Œç«‹å³å¯ç”¨
- âœ… **simple_launcher.py** - ç®€åŒ–å¯åŠ¨å™¨ï¼Œæ— ä¾èµ–é—®é¢˜
- âŒ **launcher.py** - éœ€è¦å·²åˆ é™¤çš„mcpæ¡†æ¶ï¼ˆæš‚ä¸å¯ç”¨ï¼‰
- âŒ **csv_mcp_server.py** - éœ€è¦å·²åˆ é™¤çš„mcpæ¡†æ¶ï¼ˆæš‚ä¸å¯ç”¨ï¼‰
- âŒ **vector_server.py** - éœ€è¦å·²åˆ é™¤çš„mcpæ¡†æ¶ï¼ˆæš‚ä¸å¯ç”¨ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰

### æ–¹æ³•1: ä½¿ç”¨ç®€åŒ–å¯åŠ¨å™¨

```bash
# 1. è¿›å…¥ç›®å½•
cd mcp_servers

# 2. åˆ›å»ºç¤ºä¾‹æ•°æ®
python simple_launcher.py --create-sample

# 3. å¯åŠ¨æœåŠ¡å™¨
python simple_launcher.py
```

### æ–¹æ³•2: ç›´æ¥ä½¿ç”¨ç®€å•æœåŠ¡å™¨

```bash
# å¯åŠ¨ç‹¬ç«‹CSVæœåŠ¡å™¨
cd mcp_servers
python simple_csv_server.py
```

## ğŸ“ ç›®å½•ç»“æ„

```
mcp_servers/
â”œâ”€â”€ README.md                 # æœ¬æ–‡æ¡£
â”œâ”€â”€ simple_csv_server.py     # âœ… ç®€å•ç‹¬ç«‹çš„CSVæœåŠ¡å™¨
â”œâ”€â”€ simple_launcher.py       # âœ… ç®€åŒ–å¯åŠ¨å™¨
â”œâ”€â”€ test_server.py           # âœ… æµ‹è¯•è„šæœ¬
â”œâ”€â”€ sample_data.csv          # ç¤ºä¾‹CSVæ•°æ®ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ mcp_types.py             # MCPåè®®ç±»å‹å®šä¹‰
â”œâ”€â”€ csv_mcp_server.py        # âŒ å®Œæ•´ç‰ˆï¼ˆéœ€è¦æ¡†æ¶ï¼‰
â”œâ”€â”€ vector_server.py         # âŒ å‘é‡æœåŠ¡å™¨ï¼ˆéœ€è¦æ¡†æ¶ï¼‰
â”œâ”€â”€ launcher.py              # âŒ åŸå¯åŠ¨å™¨ï¼ˆéœ€è¦æ¡†æ¶ï¼‰
â””â”€â”€ __init__.py              # åŒ…åˆå§‹åŒ–æ–‡ä»¶
```

## ğŸ›  è§£å†³çš„é—®é¢˜

### åŸé—®é¢˜
```bash
ModuleNotFoundError: No module named 'mcp.server.stdio_server'
```

### è§£å†³æ–¹æ¡ˆ
1. **åˆ›å»ºäº†ç‹¬ç«‹æœåŠ¡å™¨**: `simple_csv_server.py` ä¸ä¾èµ–å¤–éƒ¨æ¡†æ¶
2. **æä¾›äº†ç®€åŒ–å¯åŠ¨å™¨**: `simple_launcher.py` é¿å…å¯¼å…¥é”™è¯¯
3. **ä¿ç•™äº†å®Œæ•´ç‰ˆæœ¬**: ä¾›å°†æ¥æ¡†æ¶æ¢å¤åä½¿ç”¨

## ğŸ“Š æ”¯æŒçš„åŠŸèƒ½

### SimpleCSVServerï¼ˆæ¨èä½¿ç”¨ï¼‰

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… åˆ—å‡ºç›®å½•ä¸­çš„CSVæ–‡ä»¶
- âœ… æŸ¥è¯¢CSVæ•°æ®ï¼ˆæ”¯æŒé™åˆ¶è¡Œæ•°ï¼‰
- âœ… æ”¯æŒä¸­æ–‡ç¼–ç ï¼ˆUTF-8å’ŒGBKï¼‰
- âœ… å®Œå…¨ç¬¦åˆMCPåè®®æ ‡å‡†
- âœ… ç‹¬ç«‹è¿è¡Œï¼Œæ— å¤–éƒ¨ä¾èµ–ï¼ˆé™¤pandasï¼‰
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†

**æ”¯æŒçš„MCPæ–¹æ³•ï¼š**
- `initialize` - æœåŠ¡å™¨åˆå§‹åŒ–
- `tools/list` - åˆ—å‡ºå¯ç”¨å·¥å…·
- `tools/call` - è°ƒç”¨å·¥å…·

**æ”¯æŒçš„å·¥å…·ï¼š**
- `csv_list_files` - åˆ—å‡ºCSVæ–‡ä»¶
- `csv_query` - æŸ¥è¯¢CSVæ•°æ®

## ğŸ”§ ä½¿ç”¨ç¤ºä¾‹

### 1. åŸºæœ¬ä½¿ç”¨

```bash
# å¯åŠ¨æœåŠ¡å™¨
python simple_launcher.py

# åˆ›å»ºæµ‹è¯•æ•°æ®
python simple_launcher.py --create-sample

# æŒ‡å®šç›®å½•å¯åŠ¨
python simple_launcher.py --csv-dir ./data
```

### 2. æµ‹è¯•éªŒè¯

```bash
# è¿è¡Œæµ‹è¯•è„šæœ¬
python test_server.py
```

### 3. æ‰‹åŠ¨æµ‹è¯•MCPåè®®

```bash
# å¯åŠ¨æœåŠ¡å™¨
python simple_csv_server.py

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯å‘é€æµ‹è¯•è¯·æ±‚
echo '{"jsonrpc":"2.0","id":1,"method":"tools/list","params":{}}' | python simple_csv_server.py
```

## ğŸ’¡ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½åˆ°ç®€å•æœåŠ¡å™¨

1. ç¼–è¾‘ `simple_csv_server.py`
2. åœ¨ `tools/list` æ–¹æ³•ä¸­æ·»åŠ æ–°å·¥å…·å®šä¹‰
3. åœ¨ `tools/call` æ–¹æ³•ä¸­æ·»åŠ å¤„ç†é€»è¾‘
4. å®ç°å¯¹åº”çš„å¤„ç†å‡½æ•°

### æ‰©å±•åˆ°å…¶ä»–æ•°æ®æº

å¯ä»¥å‚è€ƒ `simple_csv_server.py` çš„ç»“æ„åˆ›å»ºï¼š
- `simple_json_server.py`
- `simple_excel_server.py`
- `simple_database_server.py`

## ğŸš¨ æ•…éšœæ’é™¤

### é—®é¢˜1: æ¨¡å—å¯¼å…¥é”™è¯¯
**é”™è¯¯**: `ModuleNotFoundError: No module named 'mcp.server'`  
**è§£å†³**: ä½¿ç”¨ `simple_launcher.py` è€Œä¸æ˜¯ `launcher.py`

### é—®é¢˜2: å¯åŠ¨æ²¡ååº”
**è§£å†³**: ç¡®ä¿ä½¿ç”¨äº† `simple_csv_server.py`

### é—®é¢˜3: ä¸­æ–‡ç¼–ç é”™è¯¯
**è§£å†³**: æœåŠ¡å™¨è‡ªåŠ¨å¤„ç†UTF-8å’ŒGBKç¼–ç 

### é—®é¢˜4: pandasæœªå®‰è£…
```bash
pip install pandas
```

## ğŸ“ˆ æ€§èƒ½ç‰¹ç‚¹

- **å¯åŠ¨æ—¶é—´**: < 1ç§’
- **å†…å­˜ä½¿ç”¨**: æœ€å°åŒ–ï¼ˆä»…åŠ è½½éœ€è¦çš„CSVï¼‰
- **å¹¶å‘æ”¯æŒ**: å•çº¿ç¨‹å¼‚æ­¥å¤„ç†
- **æ–‡ä»¶ç¼“å­˜**: é¿å…é‡å¤åŠ è½½ç›¸åŒæ–‡ä»¶

## ğŸ”® æœªæ¥è®¡åˆ’

1. å½“mcpæ¡†æ¶æ¢å¤åï¼Œå¯ç”¨å®Œæ•´åŠŸèƒ½ç‰ˆæœ¬
2. æ·»åŠ æ›´å¤šæ•°æ®æºæ”¯æŒ
3. å¢å¼ºæŸ¥è¯¢èƒ½åŠ›ï¼ˆSQLè¯­æ³•æ”¯æŒï¼‰
4. æ·»åŠ æ•°æ®å¯è§†åŒ–åŠŸèƒ½

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„å¯åŠ¨å™¨ï¼ˆ`simple_launcher.py`ï¼‰
2. ç¡®è®¤pandaså·²å®‰è£…
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—è·å–è¯¦ç»†ä¿¡æ¯ 